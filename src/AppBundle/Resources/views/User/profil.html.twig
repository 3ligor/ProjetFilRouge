{% extends "AppBundle::layout.html.twig" %}

{% block stylesheets %}
	{{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/app/css/bootstrap-switch.min.css') }}">                           
{% endblock %}

{% block content %}

    <div class="row" id="row">
        <div class="col-sm-2 col-xs-6 text-center">
			<div class="text-right"><a href="#"><span class="glyphicon glyphicon-edit"></span></a></div>
			<img src="{{ user.image.url }}"  alt="{{ user.image.alt }}" class="img-thumbnail "/><br>



        </div>
        <div class="col-sm-6 col-xs-6" id="profil">
			<div class="text-right" id="updateProfil"><a href="{{ path('user_update', { id: user.id }) }}"><span class="glyphicon glyphicon-edit"></span> Modifier</a></div>

			<dl class="dl-horizontal">
				<dt>Prénom</dt>
				<dd><div>{{ user.firstname }}</div></dd>
				<dt>Nom</dt>
				<dd>{{ user.lastname }}</dd>
				<dt>Pseudo</dt>
				<dd><div>{{ user.pseudo }}</div></dd>
				{% set age = "now"|date("Y") - user.birthDate|date('Y')%}
				
				
				{{ user.publicBirthdate == 1 ? ('<dt>Age </dt><dd>' ~ age ~ ' ans </dd>')|raw : "" }}
				{{ user.publicCity == 1 ? ('<dt>Ville</dt><dd>' ~ user.city ~ '</dd>')|raw : "" }}
				{{ user.publicCity == 1 ? ('<dt>E-mail</dt><dd>'~user.email~'</dd>')|raw : "" }}
				{{ user.publicCity == 1 ? ('<dt>Téléphone</dt><dd>'~user.tel~'</dd>')|raw : "" }}
				<dt>Promotion</dt>
				<dd>
					{% for promo in user.promo %}
						{% if loop.revindex == 1 %}
							{{ promo. title }} <br>
						{% else %}
							{{ promo. title }} -
						{% endif %}
					{% endfor %}
				</dd>
				<dt>Disponibilité</dt>
				<dd>{{ user.available == 1 ? "Oui" : "Non" }}</dd>
			</dl>


        </div>

        <div class="col-sm-4 col-xs-6">
            <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                <div class="panel panel-default">
                    <div class="panel-heading" role="tab" id="headingOne">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                Notification 1
                            </a>
                        </h4>
                    </div>
                    <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                        <div class="panel-body">
							Skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, 
                        </div>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading" role="tab" id="headingTwo">
                        <h4 class="panel-title">
                            <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                Notification 2
                            </a>
                        </h4>
                    </div>
                    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                        <div class="panel-body">
							Skateboard et. Nihil anim keffiyeh helvetica, nth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                        </div>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading" role="tab" id="headingThree">
                        <h4 class="panel-title">
                            <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Notification 3
                            </a>
                        </h4>
                    </div>
                    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                        <div class="panel-body">
							Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <hr>

    <div class="row">
		<div class="text-right" id="updateSkill"><a href="#"><span class="glyphicon glyphicon-edit"></span> Modifier</a></div>
		{%for userSkill in user.userSkills %}

			{% if userSkill.skill.parent == null %}


				<div class='col-xs-6 col-sm-4 col-md-3'>

					<ul class='list-group'>
						<li class='list-group-item active'>
							{{ userSkill.skill.title }}
						</li>
						{% for childSkill in userSkill.skill.childs %}

							{% if childSkill.existInUser(user) %}

								<li class='list-group-item visible'>
									<div class="row">
										<div class="col-xs-6">{{ childSkill.title }}</div>

										<div class="text-right col-xs-6">
											{% for childUserSkill in childSkill.userSkills%}
												{% if  childUserSkill.user == user %}


													{% for i in 1..childUserSkill.value %}
														<span class="glyphicon glyphicon-star"></span>
													{% endfor%}

													{% if childUserSkill.value != 5 %} 
														{% for i in childUserSkill.value..4 %}
															<span class="glyphicon glyphicon-star-empty"></span>
														{% endfor%}
													{% endif %}
												{% endif %}
											{% endfor%}
										</div>
									</div>
								</li>
								
							{% else %}	
								<li id="panel" class='list-group-item hidden'>
									<div class="row">
										<div class="col-xs-6">{{ childSkill.title }}</div>
									</div>
								</li>

							{% endif%}
						{% endfor %}
					</ul>
				</div>
			{% endif%}
		{% endfor%}

	</div>

{% endblock content %}

{% block javascripts %}

    <script src='{{ asset('bundles/app/js/jquery-2.1.1.js') }}'></script>
    <script src='{{ asset('bundles/app/js/bootstrap.min.js') }}'></script>
    <script src='{{ asset('bundles/app/js/bootstrap-switch.min.js') }}'></script>
	
	<script>
	
	$('#updateSkill').click(function(){
		
		$('#panel').removeClass('hidden').addClass('visible');
		
	});
	
		
		
	</script>

{% endblock %}
